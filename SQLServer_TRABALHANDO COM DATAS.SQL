SELECT NOME, NASCIMENTO
FROM ALUNO
GO

/*
ANDRE   1981-12-09
ANA     1987-10-09
RUI     1981-12-09
JOAO	1982-02-08
*/

-- DATEDIFF - CALCULA A DIFERENÇA ENTRE 2 DATAS --

-- FUNCAO GETDATE() TRAZ DIA E HORA
SELECT NOME, GETDATE() AS DIA_HORA
FROM ALUNO
GO
/*
ANDRE   2022-05-27 22:51:01.643
ANA     2022-05-27 22:51:01.643
RUI     2022-05-27 22:51:01.643
JOAO	2022-05-27 22:51:01.643
*/

-- 1º PASSO
SELECT NOME, DATEDIFF(DAY, NASCIMENTO, GETDATE())
FROM ALUNO
GO
/*
ANDRE	14779
ANA     12649
RUI     14779
JOAO	14718
*/


--2º PASSO - RETORNO EM INTEIRO + OPER MATEMATICA
SELECT NOME, (DATEDIFF(DAY,NASCIMENTO,GETDATE())/365) AS "IDADE"
FROM ALUNO
GO
/*
ANDRE	40
ANA	    34
RUI	    40
JOAO	40
*/

-- OU AINDA...
SELECT NOME, DATEDIFF(YEAR,NASCIMENTO,GETDATE()) AS "IDADE"
FROM ALUNO
GO


/* DATENAME - TRAZ O NOME DA PARTE DA DATA EM QUESTAO */
SELECT NOME, DATENAME(MONTH, NASCIMENTO) AS "MÊS"
FROM ALUNO
GO
/*
ANDRE	Dezembro
ANA	    Outubro
RUI	    Dezembro
JOAO	Fevereiro
*/

SELECT NOME, DATENAME(WEEKDAY, NASCIMENTO) AS "DIA DA SEMANA"
FROM ALUNO
GO
/*
ANDRE	Quarta-Feira
ANA	    Sexta-Feira
RUI	    Quarta-Feira
JOAO	Segunda-Feira
*/

/* DATEPARTE - POREM O RETORNO É UM INTEIRO */
SELECT NOME, DATEPART(MONTH,NASCIMENTO), DATENAME(MONTH,NASCIMENTO)
FROM ALUNO
GO
/*
ANDRE	12	Dezembro
ANA	    10	Outubro
RUI	    12	Dezembro
JOAO	2	Fevereiro
*/

/* DATEADD - RETORNA UMA DATA SOMANDO A OUTRA DATA */
SELECT DATEADD(DAY,365,GETDATE())
/* 2023-05-28 00:27:31.493 */

SELECT DATEADD(YEAR,10,GETDATE())
/* 2032-05-28 00:28:43.187 */